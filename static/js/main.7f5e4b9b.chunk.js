(this.webpackJsonpnivo=this.webpackJsonpnivo||[]).push([[0],{265:function(e,t,a){e.exports=a(396)},395:function(e,t,a){},396:function(e,t,a){"use strict";a.r(t);var n=a(15),l=a(9),r=a(0),i=a.n(r),c=a(115),s=a(237),o=a(244),m=(a(250),a(248)),u=(a(395),function(e){var t=e.step,a=e.newNodes,n=e.newLinks;return i.a.createElement(s.a,{nodes:a,links:n,margin:{top:0,right:0,bottom:0,left:0},repulsivity:3,iterations:50,nodeColor:function(e){return 1===e.values[t]?"#E23C34":0===e.values[t]?"gray":-1===e.values[t]?"#5BB2DD":void 0},linkColor:function(e){return"gray"},nodeBorderWidth:0,nodeBorderColor:{from:"color",modifiers:[["darker",.8]]},linkThickness:function(e){return 2},tooltip:function(e){return i.a.createElement("div",null,i.a.createElement("p",{style:{fontSize:50}},e.name))},tickSize:10,motionStiffness:160,motionDamping:12})}),f=function(e){for(var t=e.nowStep,a=e.newNodes,r={Negative:{},Neutral:{},Positive:{}},c=0;c<t;c++)r.Negative[c]=0,r.Neutral[c]=0,r.Positive[c]=0;for(var s=Array.from(new Set(a.map((function(e){return e.values})))),m=0;m<t;m++){var u,f=Object(l.a)(s);try{for(f.s();!(u=f.n()).done;){var d=u.value;-1===d[m]?r.Negative[m]+=1:0===d[m]?r.Neutral[m]+=1:1===d[m]&&(r.Positive[m]+=1)}}catch(E){f.e(E)}finally{f.f()}}for(var v=1,h=0;h<3;h++)for(var g=0;g<t;g++)v=1,0===h?(v=r.Negative[g]/a.length*100,r.Negative[g]=Math.round(10*v)/10):1===h?(v=r.Neutral[g]/a.length*100,r.Neutral[g]=Math.round(10*v)/10):(v=r.Positive[g]/a.length*100,r.Positive[g]=Math.round(10*v)/10);var p=Object.entries(r).map((function(e){var t=Object(n.a)(e,2),a=t[0],l=t[1],r=0;return{id:a,data:Object.values(l).map((function(e){return{x:r++,y:e}}))}}));return i.a.createElement(o.a,{data:p,margin:{top:50,right:30,bottom:50,left:60},xScale:{type:"point"},yScale:{type:"linear",min:0,max:100,stacked:!1,reverse:!1},axisTop:null,axisRight:null,axisBottom:{orient:"bottom",tickSize:5,tickPadding:5,tickRotation:0,legend:"TimeStep",legendOffset:36,legendPosition:"middle"},axisLeft:{orient:"left",tickSize:5,tickPadding:5,tickRotation:0,legend:"ratio",legendOffset:-40,legendPosition:"middle"},colors:function(e){return"Negative"===e.id?"#5BB2DD":"Neutral"===e.id?"gray":"#E23C34"},pointSize:10,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},pointLabel:"y",pointLabelYOffset:-12,useMesh:!0,legends:[{anchor:"bottom-top",direction:"row",justify:!1,translateX:0,translateY:-20,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)"}]})},d=function(e){for(var t=e.step,a=e.data,r=e.newNodes,c={Negative:{},Neutral:{},Positive:{}},s=0;s<t;s++)c.Negative[s]=0,c.Neutral[s]=0,c.Positive[s]=0;for(var o=Array.from(new Set(r.map((function(e){return e.values})))),u=0;u<t;u++){var f,d=Object(l.a)(o);try{for(d.s();!(f=d.n()).done;){var v=f.value;-1===v[u]?c.Negative[u]+=1:0===v[u]?c.Neutral[u]+=1:1===v[u]&&(c.Positive[u]+=1)}}catch(x){d.e(x)}finally{d.f()}}for(var h=1,g=0;g<3;g++)for(var p=0;p<t;p++)h=1,0===g?(h=c.Negative[p]/r.length*100,c.Negative[p]=Math.round(10*h)/10):1===g?(h=c.Neutral[p]/r.length*100,c.Neutral[p]=Math.round(10*h)/10):(h=c.Positive[p]/r.length*100,c.Positive[p]=Math.round(10*h)/10);var E=[];(E=a.nodes.filter((function(e){var t,n=0,r=Object(l.a)(a.links);try{for(r.s();!(t=r.n()).done;){var i=t.value;e.id!==i.source&&e.id!==i.target||n++}}catch(x){r.e(x)}finally{r.f()}if(n>0)return e.Degree=n,e}))).sort((function(e,t){return e.Degree>t.Degree?-1:1})),E.slice(0,99);var N,b={},y=Object(l.a)(E);try{for(y.s();!(N=y.n()).done;){var O=N.value;b[O.Degree]=0}}catch(x){y.e(x)}finally{y.f()}var j,S=Object(l.a)(E);try{for(S.s();!(j=S.n()).done;){var k=j.value;b[k.Degree]++}}catch(x){S.e(x)}finally{S.f()}var w=[{id:"Degree",data:Object.entries(b).map((function(e){var t=Object(n.a)(e,2);return{x:t[0],y:t[1]/E.length}}))}];return console.log(w),i.a.createElement(m.a,{data:w,margin:{top:60,right:30,bottom:70,left:90},xScale:{type:"log",min:1,max:"auto"},xFormat:function(e){return e+""},yScale:{type:"log",min:1e-5,max:1},yFormat:function(e){return e+""},blendMode:"multiply",axisTop:null,axisRight:null,axisBottom:{orient:"bottom",tickSize:5,tickPadding:5,tickRotation:0,legend:"Degree",legendPosition:"middle",legendOffset:46},axisLeft:{orient:"left",tickSize:5,tickPadding:5,tickRotation:0,legend:"Count",legendPosition:"middle",legendOffset:-60,format:function(e){var t=e.toExponential(1);return t.startsWith("1")?t:""}},legends:[{anchor:"bottom-top",direction:"row",justify:!1,translateX:0,translateY:0,itemWidth:100,itemHeight:-20,itemsSpacing:5,itemDirection:"left-to-right",symbolSize:12,symbolShape:"circle",effects:[{on:"hover",style:{itemOpacity:1}}]}]})},v=function(){for(var e=Object(r.useRef)(null),t=Object(r.useRef)(null),a=0,c=Object(r.useRef)(null),s=50,o=Object(r.useState)(50),m=Object(n.a)(o,2),v=m[0],h=m[1],g=Object(r.useState)(50),p=Object(n.a)(g,2),E=p[0],N=p[1],b=[],y=0;y<=v;y++)b[y]=y;var O=Object(r.useState)({nodes:[],links:[]}),j=Object(n.a)(O,2),S=j[0],k=j[1];Object(r.useEffect)((function(){window.fetch("all.json").then((function(e){return e.json()})).then((function(e){var t,a=Object(l.a)(e.nodes);try{for(a.s();!(t=a.n()).done;){var n=t.value;n.id=n.id.toString(),n.radius=5}}catch(s){a.e(s)}finally{a.f()}var r,i=Object(l.a)(e.links);try{for(i.s();!(r=i.n()).done;){var c=r.value;c.color="gray",c.source=c.source.toString(),c.target=c.target.toString(),c.distance=20}}catch(s){i.e(s)}finally{i.f()}k(e)}))}),[]);var w=S.links.filter((function(e,t){return e.weight>=5}));var x=S.nodes.filter((function(e){var t,a=Object(l.a)(w);try{for(a.s();!(t=a.n()).done;){var n=t.value;if(e.id===n.source||e.id===n.target)return e}}catch(r){a.e(r)}finally{a.f()}}));console.log(x);var P=[];(P=S.nodes.filter((function(e){var t,a=0,n=Object(l.a)(w);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.id!==r.source&&e.id!==r.target||a++}}catch(i){n.e(i)}finally{n.f()}if(a>1)return e.Degree=a,e}))).sort((function(e,t){return e.Degree>t.Degree?-1:1})),P.slice(0,99);var D=P.map((function(e){return i.a.createElement("option",{value:e.id},e.name)})),C=b.map((function(e){return i.a.createElement("option",{value:e.id},e)})),B=function(a,n){N(0),h(a);for(var r=[],i=[],c=0;c<=v;c++)C[c]=c;var s,o=Object(l.a)(e.current.options);try{for(o.s();!(s=o.n()).done;){var m=s.value;!0===m.selected&&r.push(m.value)}}catch(p){o.e(p)}finally{o.f()}var u,f=Object(l.a)(t.current.options);try{for(f.s();!(u=f.n()).done;){var d=u.value;!0===d.selected&&i.push(d.value)}}catch(p){f.e(p)}finally{f.f()}var g=function(e,t,a,n,r){var i,c=Object(l.a)(e.nodes);try{for(c.s();!(i=c.n()).done;){i.value.values[0]=0}}catch(p){c.e(p)}finally{c.f()}var s,o=Object(l.a)(e.nodes);try{for(o.s();!(s=o.n()).done;){var m,u=s.value,f=Object(l.a)(t);try{for(f.s();!(m=f.n()).done;){m.value===u.id&&(u.values[0]=1)}}catch(p){f.e(p)}finally{f.f()}var d,v=Object(l.a)(a);try{for(v.s();!(d=v.n()).done;){d.value===u.id&&(u.values[0]=-1)}}catch(p){v.e(p)}finally{v.f()}}}catch(p){o.e(p)}finally{o.f()}var h,g={},E=Object(l.a)(e.nodes);try{for(E.s();!(h=E.n()).done;){g[h.value.id]=[]}}catch(p){E.e(p)}finally{E.f()}var N,b=Object(l.a)(e.links);try{for(b.s();!(N=b.n()).done;){var y=N.value;g[y.source].push(y.target),g[y.target].push(y.source)}}catch(p){b.e(p)}finally{b.f()}var O,j={},S=Object(l.a)(e.nodes);try{for(S.s();!(O=S.n()).done;){var k=O.value;j[k.id]=k}}catch(p){S.e(p)}finally{S.f()}for(var w=100-n,x=1;x<=r;x++){var P,D=Object(l.a)(e.nodes);try{for(D.s();!(P=D.n()).done;){var C=P.value,B=0,R=g[C.id].length;B+=C.values[x-1]*n;var z,L=Object(l.a)(g[C.id]);try{for(L.s();!(z=L.n()).done;){var M=j[z.value],T=w/R;1===M.values[x-1]?B+=1*T:-1===M.values[x-1]&&(B-=1*T)}}catch(p){L.e(p)}finally{L.f()}B>0?C.values[x]=1:B<0?C.values[x]=-1:0===B&&(C.values[x]=0)}}catch(p){D.e(p)}finally{D.f()}}return Object.assign({},e)}(S,r,i,n,a);k(g)};return i.a.createElement("div",null,i.a.createElement("head",null,i.a.createElement("link",{rel:"stylesheet",href:"https://cdn.jsdelivr.net/npm/bulma@0.9.0/css/bulma.min.css"})),i.a.createElement("section",{className:"hero is-info"},i.a.createElement("div",{className:"hero-body"},i.a.createElement("h1",{className:"title"},"Twitter\u306b\u304a\u3051\u308bNegative\u30fbPositive\u306e\u62e1\u6563\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3"),i.a.createElement("h2",{className:"subtitle"},"\u4f50\u91ce\u5e78\u6075\u3089\u306e\u300cSNS\u306b\u304a\u3051\u308b\u798f\u5cf6\u539f\u767a\u4e8b\u6545\u5f8c\u306e\u653e\u5c04\u7dda\u60c5\u5831\u62e1\u6563\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u300d \u3067\u53ce\u96c6\u3055\u308c\u305f\u653e\u5c04\u7dda\u306b\u95a2\u3059\u308b\u30c4\u30a4\u30fc\u30c8\u30c7\u30fc\u30bf\u3092\u7528\u3044\u3066\u3044\u307e\u3059\u3002 \u30c7\u30fc\u30bf\u306eRT\u95a2\u9023\u30c7\u30fc\u30bf\u3092\u4f5c\u6210\u3057\u3001\uff13\u3064\u306e\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u884c\u3044\u307e\u3059\u3002"))),i.a.createElement("section",{className:"section"},i.a.createElement("div",{className:"tile is-ancestor"},i.a.createElement("div",{className:"tile is-parent is-2"},i.a.createElement("article",{className:"tile is-child notification box is-info"},i.a.createElement("p",{className:"title"},"\u8a73\u7d30\u8a2d\u5b9a"),i.a.createElement("p",{className:"subtitle"},"4\u3064\u306e\u9805\u76ee\u306e\u8a73\u7d30 \u3092\u8a2d\u5b9a\u3057\u3001Start\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044\u3002",i.a.createElement("br",null),"\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u304c\u958b\u59cb\u3055\u308c\u307e\u3059\u3002",i.a.createElement("br",null),"*\u91cd\u8907\u3057\u305f\u9078\u629e\u3092\u3059\u308b\u3068\u3001\u6b63\u3057\u3044\u7d50\u679c\u304c\u51fa\u307e\u305b\u3093\u3002"),i.a.createElement("div",{className:"field"},i.a.createElement("label",{className:"label"},"Positive\u306e\u767a\u4fe1\u6e90"),i.a.createElement("div",{className:"control"},i.a.createElement("div",{className:"select is-multiple is-fullwidth"},i.a.createElement("select",{multiple:!0,ref:e},D)))),i.a.createElement("div",{className:"field"},i.a.createElement("label",{className:"label"},"Negative\u306e\u767a\u4fe1\u6e90"),i.a.createElement("div",{className:"control"},i.a.createElement("div",{className:"select is-multiple is-fullwidth"},i.a.createElement("select",{multiple:!0,ref:t},D)))),i.a.createElement("div",{className:"field "},i.a.createElement("label",{className:"label"},"\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u671f\u9593"),i.a.createElement("div",{class:"control"},i.a.createElement("form",{onChange:function(e){e.preventDefault(),s=+e.target.value}},i.a.createElement("input",{className:"input",name:"step",type:"number",defaultValue:E}))),i.a.createElement("p",{className:"help"},v,"step\u307e\u3067\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u884c\u3046")),i.a.createElement("div",{className:"field"},i.a.createElement("label",{className:"label"},"\u81ea\u5206\u306e\u610f\u601d\u306e\u5272\u5408"),i.a.createElement("div",{className:"control"},i.a.createElement("form",{onChange:function(e){e.preventDefault(),a=+e.target.value}},i.a.createElement("input",{className:"input",name:"remain",type:"number",defaultValue:a}))),i.a.createElement("p",{className:"help"},"\u81ea\u5206\u306e\u610f\u601d\u30920~100%\u306e\u5272\u5408\u3067\u53cd\u6620\u3057\u307e\u3059")),i.a.createElement("div",{className:"field"},i.a.createElement("div",{className:"control"},i.a.createElement("button",{className:"button is-danger is-active is-large is-fullwidth",onClick:function(){B(s,a)}},"Start"))))),i.a.createElement("div",{className:"tile is-parent is-vertical "},i.a.createElement("article",{className:"tile is-child notification is-white box"},i.a.createElement("p",{className:"title"},"\u30cd\u30c3\u30c8\u30ef\u30fc\u30af"),i.a.createElement("p",{className:"subtitle"},"\u4e0b\u306e\u30b9\u30c6\u30c3\u30d7\u6570\u3092\u5909\u66f4\u3059\u308b\u4e8b\u3067\u3001\u5404\u30b9\u30c6\u30c3\u30d7\u306e\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u898b\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002",i.a.createElement("br",null),i.a.createElement("ul",null,i.a.createElement("li",null,"\u8d64\u8272\u306f\u300c\u6b63\u3057\u3044\u60c5\u5831\u3092\u77e5\u3063\u3066\u3044\u308b\u72b6\u614b( Positive )\u300d\u3067\u3059\u3002"),i.a.createElement("li",null,"\u9752\u8272\u306f\u300c\u30c7\u30de\u3092\u4fe1\u3058\u3066\u3044\u308b\u72b6\u614b( Negative )\u300d\u3067\u3059\u3002"),i.a.createElement("li",null,"\u7070\u8272\u306f\u300c\u4e2d\u7acb\u7684\u306a\u610f\u898b\u3092\u6301\u3063\u3066\u3044\u308b\u72b6\u614b( Neutral )\u300d\u3067\u3059\u3002"),i.a.createElement("li",null,"\u5b64\u7acb\u30ce\u30fc\u30c9\u306f\u4e88\u3081\u53d6\u308a\u9664\u3044\u3066\u3044\u307e\u3059\u3002"))),i.a.createElement("div",{className:"field"},i.a.createElement("div",{className:"control"},i.a.createElement("div",{className:"field has-addons"},i.a.createElement("div",{className:"select"},i.a.createElement("select",{ref:c,onChange:function(){var e,t=Object(l.a)(c.current.options);try{for(t.s();!(e=t.n()).done;){var a=e.value;!0===a.selected&&N(a.value)}}catch(n){t.e(n)}finally{t.f()}}},C)),i.a.createElement("div",{className:"control"}))),i.a.createElement("p",{className:"help"},"\u73fe\u5728\u306e\u30b9\u30c6\u30c3\u30d7\u6570 ",E)),i.a.createElement("figure",{className:"image is-square "},i.a.createElement("div",{className:"has-ratio",width:"1000",height:"1000"},i.a.createElement(u,{step:E,newNodes:x,newLinks:w}))))),i.a.createElement("div",{className:"tile  is-vertical is-parent "},i.a.createElement("article",{className:"tile  is-vertical is-child notification is-white box"},i.a.createElement("p",{className:"title"},"\u6298\u308c\u7dda\u30b0\u30e9\u30d5"),i.a.createElement("p",{className:"subtitle"},"\u5404\u30bf\u30a4\u30e0\u30b9\u30c6\u30c3\u30d7\u306b\u5bfe\u3057\u3001\u30ce\u30fc\u30c9\u6570\u306e\u5272\u5408\u3092\u898b\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002 \u6a2a\u8ef8\u304c\u300c\u5404\u30bf\u30a4\u30e0\u30b9\u30c6\u30c3\u30d7\u300d\u3001\u7e26\u8ef8\u304c\u300c\u5168\u4f53\u3092\uff11\u3068\u3057\u305f\u6642\u306e\u5272\u5408\u300d\u3067\u3059\u3002",i.a.createElement("br",null),"\u203b\u5168\u4f53\u3092\uff11\u3068\u3057\u3066\u3044\u307e\u3059"),i.a.createElement("figure",{className:"image is-2by1"},i.a.createElement("div",{className:"has-ratio",width:"1000",height:"500"},i.a.createElement(f,{step:E,nowStep:v,newNodes:x,newLinks:w})))),i.a.createElement("article",{className:"tile  is-vertical is-child notification is-white box"},i.a.createElement("p",{className:"title"},"\u6b21\u6570\u5206\u5e03"),i.a.createElement("p",{className:"subtitle"},"\u6b21\u6570\u306b\u95a2\u3057\u305f\u4e21\u5bfe\u6570\u30b0\u30e9\u30d5\u3092\u307f\u308b\u4e8b\u304c\u3067\u307e\u3059\u3002 \u6a2a\u8ef8\u304c\u300c\u6b21\u6570\u300d\u3067\u7e26\u8ef8\u304c\u300c\u5272\u5408\u300d\u3067\u3059"),i.a.createElement("figure",{className:"image is-2by1"},i.a.createElement("div",{className:"has-ratio",width:"1000",height:"500"},i.a.createElement(d,{step:E,data:S,newNodes:x,newLinks:w}))))))),i.a.createElement("footer",{className:"footer is-warning"},i.a.createElement("div",{className:"content has-text-centered"},i.a.createElement("p",null,"\xa9 2020 \u8239\u6728\u99ff\u4e4b\u4ecb, \u671b\u6708\u6c99\u548c"))))};Object(c.render)(i.a.createElement(v,null),document.querySelector("#content"))}},[[265,1,2]]]);
//# sourceMappingURL=main.7f5e4b9b.chunk.js.map